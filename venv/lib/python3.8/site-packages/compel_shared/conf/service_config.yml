units:
  multipliers:
    1e-15:
      en: [f]
    1e-12:
      ru: [пк, п, Пк, ПК, пК, П]
      en: [pk, p, Pk, PK, pK, P]
    1e-9:
      ru: [н, Н]
      en: [n, N]
    1e-6:
      ru: [мк, Мк, МК, мК]
      en: [mk, µ, u, Mk, MK, mK, U]
    1e-3:
      ru: [м]
      en: [m]
    1e-2:
      ru: [с]
      en: [c]
    1e3:
      ru: [к, К]
      en: [k, K]
    1e6:
      ru: [М]
      en: [M]
    1e9:
      ru: [Г, г]
      en: [G, g]
    1e12:
      ru: [Т, т]
      en: [T, t]

  si_conversion:
    - name: Дюймы
      units: ['"', in]
      multiplier: '0.0254'
    - name: Футы
      units: [ft]
      multiplier: '0.3048'

products:
  # группы для параметров с одинаковыми единицами измерения, но с разными названиями
  # такие параметры при импорте в эластик попадают в массив для оптимизации поиска
  # параметры вроде voltage$ac, voltage$dc отдельно прописывать не нужно, они по умолчанию попадают в группу voltage
  groups:
    resistance: [impedance, esr]
  classification:
    classifier_type: 'Ручной'
  mpn_replacement:
    - find: ','
      replace: '.'
    - find: '('
      replace: '['
    - find: ')'
      replace: ']'
  search:
    limit: 500

search:
  min_score: 0                  #  Порог минимальной релевантности
  limit: 100                   #  Макс. кол-во вариантов для каждой поисковой строки
  param_limit: 10000            #  Максимальное кол-во продуктов, возвращаемух по запросу catalog/api/params
  max_score_group_limit: 1000    #  Максимальное количество результатов с максимальной релевантностью
  timeout: 10                   #  Таймаут поиска в elasticsearch в секундах
  mpn:
    weight: 67                  #  Вес секции MPN (по отношению к параметрам)
    fuzzy:
      weight: 50                #  Вес поиска по нечеткому соответствию
      prefix_length: 2          #  Сколько можно пропускать от начала строки
      fuzziness: AUTO           #  Макс. ред расстояние - 0, 1, 2 или AUTO (см. https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#fuzziness)
    regexp:
      weight: 100                #  Вес поиска по подстроке
      prefix_length: 2        #  Сколько можно пропускать от начала строки неотрицательное значение и *
      special_symbols: "*"
    decay:                      # функция затухания для расчета релевантности, если в запросе несколько MPN
      offset: 50                # на какую длину MPN может отличаться от самого длинного без влияния на score: 0% - разница в длине всегда влияет на score, 100% - разница в длине не влияет на score
      scale: 50                  # коэффициент, на который умножается score при превышении разницей длин MPN заданного offset
  manufacturer:
    sym_threshold: 50
  params:
    weight: 33                  #  Вес секции параметров по отношениют к MPN
    fuzziness: AUTO             #  Макс. ред расстояние - 0, 1, 2 или AUTO
    default_weight: 100         #  Вес параметра по умолчанию
    required:
      any_of: [_mpn, resistance, capacitance, inductance]  #  Если непустой список, требуется наличие хотябы одного из перечисленных
      weight: 67                #  Вес секции обязательных параметров
    optional:
      weight: 33                #  Вес секции опциональных параметров
    default_templates:          #  Стандратные шаблоны для парсинга параметров при импортe
      measurement: [$N]
      string: [$S]

bom:
  limit: 2000                   # Макс. количество обрабатываемых позиций в BOM списке
  batch_size: 250               # Кол-во параллельных поисковых запросов
  report_min_score: 60          # Порог релевантности, ниже которого строки автоматически добавляются в набор нераспознанных строк

providers:
  # order - глобальный приоритет провайдеров, используется в случе,
  #  когда сущности имеют разных провайдеров с одинаковым приоритетом
  order:  ['compel-sds', 'compel-ax', 'compel-hd', 'compel-tmp-dgk', 'digikey', 'farnell']
  items:
    compel-sds:
      name: Параметрия SDS
      description_locale: ru
    compel-ax:
      name: Параметрия AX
      description_locale: ru
    compel-hd:
      name: Параметрия HD
      description_locale: ru
    compel-tmp-dgk:
      name: Параметрия TMP DGK
      description_locale: ru
    digikey:
      name: Digikey
      description_locale: ru
    farnell:
      name: Farnell
      description_locale: ru

train:                          # настройки тренировки ML моделей
  ner_params:                   # модель для распознавания параметров
    n_iters: 10
    dataset_size: 10000
  ner_mpn:                      # модель для распознавания MPN
    n_iters: 10
    dataset_size: 10000
  classifier:                   # модель для распознавания классов
    n_iters: 10
    dataset_size: 10000

tech:
  m10:
    - CERCAP
    - RESSMD
    - RES
    - IC_CAP
    - BIG_COMP
    - IND
    - CON
    - CAB
    - SEN
    - OTHER
  ems:
    - PASSIVE
    - ACTIVE
    - EMCO
    - OTHER
